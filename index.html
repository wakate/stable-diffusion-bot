<body>
    <span>Prompt:
        <input type='text' id='queryInput' value='Space cat holding a globe'>
        <button type='button' id='queryButton'>Generate!</button>
    </span>
    <img id='generatedImage'>
    <script>
        const queryInput = document.getElementById('queryInput');
        const queryButton = document.getElementById('queryButton');
        const img = document.getElementById('generatedImage');
        queryButton.addEventListener('click', async (e) => {
            console.log(`Running with query: ${queryInput.value}`);

            const response = await fetch('/query', {
                method: 'POST',
                headers: {  'Content-Type': 'application/json' },
                body: JSON.stringify({ prompt: queryInput.value })
            });

            if (response.status === 200) {
                const imageBlob = await response.blob();
                img.src = URL.createObjectURL(imageBlob);
            } else {
                console.error(response);
            }
        });
        console.log('Hello, World!');
    </script>
</body>